@page "/credential/courselist"
@layout SidebarLayout

<PageTitle>Credentials - Course List</PageTitle>

<ilw-content>
    <h1>Courses</h1>

    @if (CredentialItem != null && RequirementSetList != null)
    {
        @foreach (var requirementset in ChosenRequirementSetList.Select((v, i) => (v, i)))
        {
            <div class="credential-box">
                <p><a @onclick="() => Edit(requirementset.v.Id)">@requirementset.v.Title</a></p>
                <div class="button-group">
                    <button class="ilw-button small" @onclick="() => Up(requirementset.i)"><ilw-icon alt="up" size="24px" icon="back" class="rotate"></ilw-icon></button>
                    <button class="ilw-button small" @onclick="() => Down(requirementset.i)"><ilw-icon alt="up" size="24px" icon="next" class="rotate"></ilw-icon></button>
                    <button class="ilw-button small" @onclick="() => Remove(requirementset.i)">Remove</button>
                </div>
            </div>
        }
    }
</ilw-content>


<div class="search-box">
    <ilw-content class="search-header">
        <h2>Add Requirement Sets</h2>
    </ilw-content>
    <div>
        <SearchGenericItem @ref="@_searchGenericItem" GenericItems="@RequirementSetList" ActionButtonTitle="Add to Credential" ItemTitle="Requirement Set" EditClicked="ChooseRequirementSet" SearchClicked="GetRequirementSet"></SearchGenericItem>
    </div>
    <div class="search-box-right">
        <ilw-content>
            <h3>Quick Launch</h3>
        </ilw-content>
        <button class="ilw-button" @onclick="CreateNewPrivateRequirementSet">Create Private Requirement Set</button>
        <button class="ilw-button" @onclick="CreateNewPublicRequirementSet">Create Public Requirement Set</button>
    </div>
</div>

<ilw-content>
    <h2>Save Changes</h2>
    <button class="ilw-button" @onclick="Save" @onblur="Layout.RemoveMessage">Save Changes</button>
</ilw-content>
